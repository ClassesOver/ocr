version: '3.8'

services:
  ocr-service:
    image: ocr:latest
    container_name: ocr-service
    restart: unless-stopped
    ports:
      - "8078:8078"
      - "8079:8079"
    environment:
      - TZ=Asia/Shanghai
      - PADDLE_ENABLE_HPI=0
      - PADDLE_ENABLE_MKLDNN=0
      - GUNICORN_WORKERS=2
      # OCR模块开关配置
      - ENABLE_TABLE_RECOGNITION=0  # 是否启用表格识别模块
    volumes:
      - ./code:/app/code
      - ./logs:/app/logs
      - ./models:/root/.paddlex/official_models
